<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login - ApoiaMe</title>

  <!-- Fonte Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Bootstrap Icons (inclui logo do Google) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- Ícones Lucide (opcional para outros ícones) -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- CSS custom -->
  <link rel="stylesheet" href="../css/login.css" />
  <link rel="icon" type="image/x-icon" href="../arquivos/favicon.ico" />
</head>
<body>
  <main class="container-login container" id="container-login" aria-label="Área de autenticação">
    <!-- CADASTRO -->
    <section class="bloco-formulario bloco-cadastro" aria-labelledby="titulo-cadastro">
      <form id="form-cadastro" class="formulario needs-validation" novalidate>
        <h1 id="titulo-cadastro">Criar conta</h1>

        <div class="social-container" aria-label="Login social (em breve)">
          <a href="#" id="btn-google-cadastro" class="social" aria-label="Entrar com Google"><i class="bi bi-google"></i></a>
        </div>

        <span class="texto-apoio">ou use seu e-mail para cadastro</span>

        <div class="mb-2 w-100">
          <label class="form-label sr-only" for="nome-cadastro"></label>
          <input id="nome-cadastro" class="form-control campo" type="text" placeholder="Nome completo" required />
          <div class="invalid-feedback text-start">Informe seu nome.</div>
        </div>

        <div class="mb-2 w-100">
          <label class="form-label sr-only" for="email-cadastro"></label>
          <input id="email-cadastro" class="form-control campo" type="email" placeholder="E-mail" required />
          <div class="invalid-feedback text-start">Informe um e-mail válido.</div>
        </div>

        <!-- Senha 1 -->
        <div class="mb-2 w-100">
          <label class="form-label sr-only" for="senha-cadastro"></label>
          <div class="input-group">
            <input id="senha-cadastro" class="form-control campo" type="password" placeholder="Senha" minlength="6" required />
            <button type="button" class="btn btn-outline-secondary toggle-senha" data-target="senha-cadastro" aria-label="Mostrar senha">
              <i class="bi bi-eye"></i>
            </button>
            <div class="invalid-feedback text-start w-100">Use ao menos 6 caracteres.</div>
          </div>
        </div>

        <!-- Senha 2 (repetir) -->
        <div class="mb-2 w-100">
          <label class="form-label sr-only" for="senha-repetir"></label>
          <div class="input-group">
            <input id="senha-repetir" class="form-control campo" type="password" placeholder="Repetir senha" minlength="6" required />
            <button type="button" class="btn btn-outline-secondary toggle-senha" data-target="senha-repetir" aria-label="Mostrar senha">
              <i class="bi bi-eye"></i>
            </button>
            <div class="invalid-feedback text-start w-100">As senhas precisam coincidir.</div>
          </div>
          <div id="senha-match" class="form-text text-start"></div>
        </div>
        <!-- Seleção de Pessoa Física ou Jurídica -->
<div class="mb-2 w-100">
  <label for="categoria-pessoa" class="form-label">Categoria de Pessoa</label>
  <select id="categoria-pessoa" class="form-control campo" required>
    <option value="" disabled selected>Selecione</option>
    <option value="pf">Pessoa Física</option>
    <option value="pj">Pessoa Jurídica</option>
  </select>
  <div class="invalid-feedback text-start">Selecione o tipo de pessoa.</div>
</div>

<!-- CPF (Aparece apenas se Pessoa Física for selecionada) -->
<div class="mb-2 w-100" id="cpf-group" style="display:none;">
  <label for="cpf-cadastro" class="form-label">CPF</label>
  <input id="cpf-cadastro" class="form-control campo" type="text" placeholder="CPF" />
  <div class="invalid-feedback text-start">Informe um CPF válido.</div>
</div>

<!-- CNPJ (Aparece apenas se Pessoa Jurídica for selecionada) -->
<div class="mb-2 w-100" id="cnpj-group" style="display:none;">
  <label for="cnpj-cadastro" class="form-label">CNPJ</label>
  <input id="cnpj-cadastro" class="form-control campo" type="text" placeholder="CNPJ" />
  <div class="invalid-feedback text-start">Informe um CNPJ válido.</div>
</div>

                <button type="submit" class="btn-primario mt-1">Cadastrar</button>
       

      </form>



      <!-- EXTRA FORM: Seleção de tipo de conta -->
      <div id="extra-form" style="display:none; margin-top:2rem;">
        <div class="account-type-selection text-center">
          <h3>Selecione o tipo de conta:</h3>
      
          <!-- Primeira linha -->
          <div class="account-options d-flex justify-content-center gap-3 mt-3">
            <div class="card-option" data-role="cliente" tabindex="0">
              <img src="https://cdn-icons-png.flaticon.com/512/1946/1946429.png" alt="Cliente">
              <p>Cliente</p>
            </div>
            <div class="card-option" data-role="ajudante" tabindex="0">
              <img src="https://cdn-icons-png.flaticon.com/512/1048/1048313.png" alt="Ajudante">
              <p>Ajudante</p>
            </div>
          </div>
      
          <!-- Segunda linha 
          <div class="account-options d-flex justify-content-center mt-3">
            <div class="card-option" data-role="entregador" tabindex="0">
              <img src="https://cdn-icons-png.flaticon.com/512/744/744465.png" alt="Entregador">
              <p>Entregador</p>
            </div>
          </div>-->
      
          <button id="select-role" class="btn btn-second mt-4" disabled>Continuar</button>
        </div>
      </div>

      <!-- FINAL FORM: Sucesso + redirect -->
      <div id="final-form" style="display:none;" class="success-screen text-center mt-4" aria-live="polite">
        <div class="success-icon">✅</div>
        <h2>Cadastro concluído com sucesso!</h2>
        <p>Você será redirecionado em instantes...</p>
      </div>
    </section>

    <!-- LOGIN -->
    <section class="bloco-formulario bloco-login" aria-labelledby="titulo-login">
      <form id="form-login" class="formulario" autocomplete="off" novalidate>
        <h1 id="titulo-login">Entrar</h1>

        <div class="social-container" aria-label="Login social (em breve)">
          <a href="#" class="social" id="btn-google-login" aria-label="Entrar com Google"><i class="bi bi-google"></i></a>
        </div>

        <span class="texto-apoio">ou use sua conta</span>

        <div class="mb-2 w-100">
          <label class="form-label sr-only" for="email-login"></label>
          <input id="email-login" class="form-control campo" type="email" placeholder="E-mail" required />
          <div class="invalid-feedback text-start">Informe um e-mail válido.</div>
        </div>

        <div class="mb-2 w-100">
          <label class="form-label sr-only" for="senha-login"></label>
          <div class="input-group">
            <input id="senha-login" class="form-control campo" type="password" placeholder="Senha" required />
            <button type="button" class="btn btn-outline-secondary toggle-senha" data-target="senha-login" aria-label="Mostrar senha">
              <i class="bi bi-eye"></i>
            </button>
            <div class="invalid-feedback text-start w-100">Informe sua senha.</div>
          </div>
        </div>

        <a class="link-acao" href="recuperar.html" id="esqueci-senha">Esqueceu a senha?</a>
        <button type="submit" class="btn-primario">Entrar</button>
      </form>
    </section>

    <!-- OVERLAY -->
    <div class="container-overlay">
      <div class="overlay">
        <div class="painel-overlay painel-esquerda">
          <h1>Bem-vindo de volta!</h1>
          <p>Para continuar conectado, entre com seus dados pessoais.</p>
          <button class="btn-transparente" id="btn-ir-login">Entrar</button>
        </div>
        <div class="painel-overlay painel-direita">
          <h1>Olá, parceiro!</h1>
          <p>Informe seus dados e comece sua jornada com a ApoiaMe.</p>
          <button class="btn-transparente" id="btn-ir-cadastro">Cadastrar</button>
        </div>
        <div class="painel-overlay painel-selecao-perfil" id="painel-selecao-perfil" style="display: none;">
        </div>
      </div>
    </div>
  </main>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/login.js"></script>
  <script>lucide.createIcons();</script>    
  <script type="module" src="/firebase-init.js"></script>
  <script type="module" src="/login-auth.js"></script>
</body>
</html>
